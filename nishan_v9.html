<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üõ°Ô∏è NISHAN V4 PRO - ADVANCED ANALYTICS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --neon-green: #00ff88;
            --neon-red: #ff3131;
            --bg-black: #05070a;
            --accent: #7c3aed;
            --gold: #ffcc00;
        }

        * { -webkit-user-select: none; user-select: none; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        body, html { margin: 0; padding: 0; height: 100%; width: 100%; background: var(--bg-black); overflow: hidden; color: #fff; }

        body::before {
            content: ""; position: absolute; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(124, 58, 237, 0.1) 0%, transparent 70%);
            animation: move 15s linear infinite; z-index: -1;
        }
        @keyframes move { from { transform: translate(-50%, -50%); } to { transform: translate(0%, 0%); } }

        #menuToggle {
            position: fixed; left: 10px; top: 50%; transform: translateY(-50%);
            width: 50px; height: 50px; background: var(--accent);
            border-radius: 15px; display: none; align-items: center; justify-content: center;
            z-index: 10002; border: 2px solid #fff; box-shadow: 0 0 15px var(--accent);
            cursor: pointer;
        }

        .premium-header {
            width: 100%; height: 60px; background: rgba(17, 24, 39, 0.95);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 15px; border-bottom: 2px solid var(--accent);
        }

        .analyzer-box {
            position: absolute; z-index: 10001; width: 310px;
            background: rgba(10, 15, 25, 0.98); backdrop-filter: blur(20px);
            border-radius: 20px; top: 75px; left: 50%; transform: translateX(-50%);
            border: 1px solid rgba(139, 92, 246, 0.4); box-shadow: 0 20px 50px rgba(0,0,0,0.7);
            display: none;
        }

        .box-header { padding: 12px; background: rgba(139, 92, 246, 0.15); border-radius: 20px 20px 0 0; display: flex; justify-content: space-between; align-items: center; cursor: grab; }
        .close-btn { color: var(--neon-red); cursor: pointer; font-size: 18px; }

        .result-display { padding: 20px 10px; text-align: center; min-height: 180px; }
        #sigResult { font-size: 55px; font-weight: 900; letter-spacing: 2px; text-transform: uppercase; margin: 5px 0; text-shadow: 0 0 20px rgba(255,255,255,0.2); }
        .accuracy-tag { font-size: 10px; background: var(--accent); padding: 3px 10px; border-radius: 4px; display: inline-block; margin-bottom: 5px; }
        
        #ai-status { font-size: 9px; color: var(--gold); text-transform: uppercase; letter-spacing: 1px; }

        .stats-area { padding: 15px; background: rgba(0,0,0,0.3); border-radius: 0 0 20px 20px; font-size: 12px; }
        .prog-bar { width: 100%; height: 6px; background: #222; border-radius: 10px; margin: 8px 0; overflow: hidden; }
        #prog-fill { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--neon-green)); transition: 0.5s; }

        #gameIframe { width: 100%; height: calc(100vh - 60px); border: none; }

        #loginUI { position: fixed; inset: 0; background: var(--bg-black); z-index: 11000; display: flex; align-items: center; justify-content: center; }
        .card { background: #111827; padding: 35px; border-radius: 25px; width: 320px; text-align: center; border: 1px solid var(--accent); }
        input { width: 100%; padding: 14px; background: #000; border: 1px solid #333; border-radius: 10px; color: var(--neon-green); margin: 20px 0; text-align: center; font-weight: bold; }
        .btn-prime { width: 100%; padding: 14px; background: var(--accent); border: none; border-radius: 10px; color: #fff; font-weight: 900; cursor: pointer; }
    </style>
</head>
<body>

<div id="menuToggle" onclick="toggleInjector()"><i class="fas fa-eye-slash" id="toggleIcon"></i></div>

<div id="loginUI">
    <div class="card">
        <i class="fas fa-microchip" style="font-size: 40px; color: var(--accent);"></i>
        <h2 style="margin: 15px 0 5px;">NISHAN V4 PRO</h2>
        <p style="font-size: 11px; color: #777;">HIGH RATING ANALYSIS ENABLED</p>
        <input type="password" id="key" placeholder="ENTER ACCESS KEY">
        <button class="btn-prime" onclick="startApp()">BOOT ANALYZER</button>
    </div>
</div>

<div id="appUI" style="display: none;">
    <div class="premium-header">
        <div style="display:flex; align-items:center; gap:10px;">
            <div style="width:35px; height:35px; background:var(--accent); border-radius:8px; display:grid; place-items:center;"><i class="fas fa-brain"></i></div>
            <div>
                <div style="font-size:12px; font-weight:800;">NEURAL ENGINE</div>
                <div id="betDisplay" style="font-size:9px; color:var(--gold);">BET: ‡ß≥50</div>
            </div>
        </div>
        <div style="font-size: 10px; border: 1px solid var(--neon-green); padding: 3px 8px; border-radius: 10px; color: var(--neon-green);">AI ACTIVE</div>
    </div>

    <iframe id="gameIframe"></iframe>

    <div id="mainBox" class="analyzer-box">
        <div class="box-header" id="dragH">
            <span style="font-size: 10px; font-weight: 900;">MARKET ANALYTICS</span>
            <div style="display:flex; gap:10px; align-items:center;">
                <span id="pID" style="font-size: 10px; color: var(--gold);">ID: ----</span>
                <i class="fas fa-times-circle close-btn" onclick="toggleInjector()"></i>
            </div>
        </div>

        <div class="result-display">
            <div class="accuracy-tag">CONFIDENCE: 98.2%</div><br>
            <div id="ai-status">WAITING FOR MARKET DATA...</div>
            <div id="sigResult" style="color: #333;">----</div>
            <div id="timer" style="color: var(--neon-red); font-weight: bold; font-family: monospace; font-size: 18px;">00:00</div>
        </div>

        <div class="stats-area">
            <div style="display:flex; justify-content:space-between; font-weight: bold;">
                <span id="cBal">BAL: ‡ß≥500</span>
                <span>GOAL: ‡ß≥1500</span>
            </div>
            <div class="prog-bar"><div id="prog-fill"></div></div>
            <div id="mLevel" style="font-size: 9px; text-align: center; color: var(--neon-green);">TREND: STABLE</div>
        </div>
    </div>
</div>

<script>
let balance = 500;
const target = 1500;
const baseBet = 50;
let currentBet = 50;
let lastPeriod = "";
let currentPrediction = "";
let predictionType = "";

function toggleInjector() {
    const box = document.getElementById('mainBox');
    const icon = document.getElementById('toggleIcon');
    box.style.display = (box.style.display === "none") ? "block" : "none";
    icon.className = (box.style.display === "none") ? "fas fa-eye" : "fas fa-eye-slash";
}

function startApp() {
    if(document.getElementById('key').value === "Rahul") {
        document.getElementById('loginUI').style.display = 'none';
        document.getElementById('appUI').style.display = 'block';
        document.getElementById('mainBox').style.display = 'block';
        document.getElementById('menuToggle').style.display = 'flex';
        document.getElementById('gameIframe').src = "https://www.hgzy32.com/#/register?invitationCode=48551674939";
        initEngine();
    } else { alert("WRONG KEY!"); }
}

async function initEngine() {
    setInterval(async () => {
        try {
            const res = await fetch('https://draw.ar-lottery01.com/WinGo/WinGo_30S/GetHistoryIssuePage.json?ts=' + Date.now());
            const data = await res.json();
            const history = data.data.list;
            const nextPeriod = (BigInt(history[0].issueNumber) + 1n).toString();
            
            const sec = 30 - (Math.floor(Date.now() / 1000) % 30);
            document.getElementById('timer').textContent = "00:" + (sec < 10 ? "0" + sec : sec);

            if (nextPeriod !== lastPeriod) {
                if(lastPeriod !== "") checkResult(history[0]);
                lastPeriod = nextPeriod;
                updateUI();
                analyzeMarket(history, nextPeriod);
            }
        } catch (e) {}
    }, 1000);
}

function checkResult(lastDraw) {
    if(!currentPrediction) return;
    const num = parseInt(lastDraw.number);
    let win = false;
    if(predictionType === "BS") {
        const actual = num >= 5 ? "BIG" : "SMALL";
        if(currentPrediction === actual) win = true;
    } else {
        const greenNums = [1, 3, 5, 7, 9];
        const actualColor = greenNums.includes(num) ? "GREEN" : "RED";
        if(currentPrediction === actualColor) win = true;
    }

    if(win) {
        balance += (currentBet * 0.98);
        currentBet = baseBet;
        document.getElementById('mLevel').textContent = "TREND: WIN-STREAK";
        document.getElementById('mLevel').style.color = "var(--neon-green)";
    } else {
        balance -= currentBet;
        currentBet *= 2;
        document.getElementById('mLevel').textContent = "TREND: RECOVERING";
        document.getElementById('mLevel').style.color = "var(--neon-red)";
    }
}

// --- HIGH RATING ANALYZER LOGIC ---
function analyzeMarket(history, id) {
    const sig = document.getElementById('sigResult');
    const status = document.getElementById('ai-status');
    document.getElementById('pID').textContent = "ID: " + id.slice(-4);
    
    sig.textContent = "....";
    sig.style.color = "#333";
    status.textContent = "AI ANALYZING LAST 10 ROUNDS...";

    setTimeout(() => {
        if(balance >= target) { sig.textContent = "DONE"; return; }

        // Logic:Trend Correlation
        // ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßá‡¶∑ ‡ß©‡¶ü‡¶ø ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶¨‡ßã
        const h0 = parseInt(history[0].number);
        const h1 = parseInt(history[1].number);
        const h2 = parseInt(history[2].number);

        // Probability Calculation
        if (h0 === h1 && h1 === h2) {
            // ‡¶Ø‡¶¶‡¶ø ‡ß© ‡¶¨‡¶æ‡¶∞ ‡¶è‡¶ï‡¶á ‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶° ‡¶•‡¶æ‡¶ï‡ßá (‡¶Ø‡ßá‡¶Æ‡¶® ‡ß©‡¶ü‡¶ø‡¶á BIG), ‡¶§‡¶¨‡ßá AI 'Mirror' ‡¶ß‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶¨‡ßá
            predictionType = "BS";
            currentPrediction = (h0 >= 5) ? "SMALL" : "BIG";
            status.textContent = "MIRROR PATTERN DETECTED";
        } else if (h0 % 2 === h1 % 2) {
            // ‡¶Ø‡¶¶‡¶ø ‡¶ï‡¶æ‡¶≤‡¶æ‡¶∞ ‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶° ‡¶•‡¶æ‡¶ï‡ßá
            predictionType = "COLOR";
            currentPrediction = (h0 % 2 === 0) ? "RED" : "GREEN";
            status.textContent = "COLOR TREND DETECTED";
        } else {
            // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶∏‡ßá‡¶´ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶ó‡¶∞‡¶ø‡¶¶‡¶Æ
            predictionType = "BS";
            currentPrediction = h0 < 5 ? "BIG" : "SMALL";
            status.textContent = "STABLE PREDICTION";
        }

        sig.textContent = currentPrediction;
        sig.style.color = (currentPrediction === "BIG" || currentPrediction === "GREEN") ? "var(--neon-green)" : "var(--neon-red)";
    }, 2500);
}

function updateUI() {
    const prog = ((balance - 500) / (target - 500)) * 100;
    document.getElementById('prog-fill').style.width = Math.min(100, Math.max(0, prog)) + "%";
    document.getElementById('cBal').textContent = "BAL: ‡ß≥" + Math.floor(balance);
    document.getElementById('betDisplay').textContent = "BET: ‡ß≥" + currentBet;
}

// Drag logic
const box = document.getElementById('mainBox');
const handle = document.getElementById('dragH');
let off = [0,0];
handle.ontouchstart = (e) => { off = [box.offsetLeft - e.touches[0].clientX, box.offsetTop - e.touches[0].clientY]; };
handle.ontouchmove = (e) => { box.style.left = (e.touches[0].clientX + off[0]) + 'px'; box.style.top = (e.touches[0].clientY + off[1]) + 'px'; box.style.transform = "none"; };
</script>
</body>
                  </html>
                  
